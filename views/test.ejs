<!DOCTYPE html>
<html lang="en">
    <head>
        <% include components/head %> 
        <script src="javascripts/moment.min.js", type="text/javascript"></script>
        <script src="javascripts/directory_scripts.js" type="text/javascript"></script>
        <link rel="stylesheet" href="/stylesheets/directory_table.css">
      </head>
      <body>
        <h1>SEARCH RESULTS</h1> Number range searching usually takes 1-2 minutes.
        <table id="example" class="table table-striped table-bordered display" cellspacing="0" width="100%">
          <thead>
            <tr>
              <th>Name</th>
              <th>Position</th>
              <th>Office</th>
              <th>Age</th>
              <th>Start date</th>
              <th>Salary</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tfoot>
            <tr>
              <th>Name</th>
              <th>Position</th>
              <th>Office</th>
              <th>Age</th>
              <th>Start date</th>
              <th>Salary</th>
              <th>Actions</th>
            </tr>
          </tfoot>
          <tbody>
            <tr>
              <td>Tiger Nixon</td>
              <td>System Architect</td>
              <td>Edinburgh</td>
              <td>61</td>
              <td>2011/04/25</td>
              <td>$320,800</td>
              <td></td>
            </tr>
            <tr>
              <td>Garrett Winters</td>
              <td>Accountant</td>
              <td>Tokyo</td>
              <td>63</td>
              <td>2011/07/25</td>
              <td>$170,750</td>
              <td></td>
            </tr>
            <tr>
              <td>Ashton Cox</td>
              <td>Junior Technical Author</td>
              <td>San Francisco</td>
              <td>66</td>
              <td>2009/01/12</td>
              <td>$86,000</td>
              <td></td>
            </tr>
            <tr>
              <td>Cedric Kelly</td>
              <td>Senior Javascript Developer</td>
              <td>Edinburgh</td>
              <td>22</td>
              <td>2012/03/29</td>
              <td>$433,060</td>
              <td></td>
            </tr>
          </tbody>
        </table>
        <!-- Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Modal title</h4>
              </div>
              <div class="modal-body">
                <div class="insertHere"></div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
              </div>
            </div>
          </div>
        </div>
      </body>
      <script>
          $(document).ready(function() {
                var table = $('#example').DataTable({
                        // hiding columns via datatable column.visivle API
                    "columnDefs": [{
                    "targets": [2],
                    "visible": false
                    }, {
                    "targets": [3],
                    "visible": false
                    }, {
                            // adding a more info button at the end
                    "targets": -1,
                    "data": null,
                    "defaultContent": "<button type='button' class='btn btn-default'><span class='glyphicon glyphicon-plus' aria-hidden='true'></span></button>"
                    }]
                });

                $('#example tbody').on('click', 'button', function() {
                    var data = table.row($(this).parents('tr')).data(); // getting target row data
                    $('.insertHere').html(
                            // Adding and structuring the full data
                    '<table class="table dtr-details" width="100%"><tbody><tr><td>Name<td><td>' + data[0] + '</td></tr><tr><td>Position<td><td>' + data[1] + '</td></tr><tr><td>Office<td><td>' + data[2] + '</td></tr><tr><td>Age<td><td>' + data[3] + '</td></tr><tr><td>Start date<td><td>' + data[4] + '</td></tr><tr><td>Salary<td><td>' + data[5] + '</td></tr></tbody></table>'
                    );
                    $('#myModal').modal('show'); // calling the bootstrap modal
                });

                });
      </script>
</html>